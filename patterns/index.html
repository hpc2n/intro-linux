<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><link rel="canonical" href="https://hpc2n.github.io/intro-linux/patterns/" />
      <link rel="shortcut icon" href="../img/favicon.ico" />
    <title>Finding patterns - Introduction to Linux</title>
    <link rel="stylesheet" href="../css/theme.css" />
    <link rel="stylesheet" href="../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
        <link href="../assets/_markdown_exec_pyodide.css" rel="stylesheet" />
        <link href="../assets/_markdown_exec_ansi.css" rel="stylesheet" />
        <link href="../assets/_mkdocstrings.css" rel="stylesheet" />
        <link href="../css/extra.css" rel="stylesheet" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "Finding patterns";
        var mkdocs_page_input_path = "patterns.md";
        var mkdocs_page_url = "/intro-linux/patterns/";
      </script>
    
    <!--[if lt IE 9]>
      <script src="../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
      <script>hljs.highlightAll();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="..">
          <img src="../images/intro-linux-naiss.png" class="logo" alt="Logo"/>
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="..">Home</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../intro/">Introduction</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../cli/">The command line (CLI)</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../filesystem/">The File System</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../modify/">Modifying the file tree</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../editors/">Editors</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../pipesfilters/">Piping</a>
                </li>
              </ul>
              <ul class="current">
                <li class="toctree-l1 current"><a class="reference internal current" href="#">Finding patterns</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#grep">grep</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#find">find</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#regular__expressions">Regular Expressions</a>
    </li>
    </ul>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../scripting/">Scripting</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../hints/">Hints and tricks</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../summary/">Summary</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">Extras</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../tree/">Install tree</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../connections/">Linux system overview</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../linux-terminology/">Linux terminology</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../more-commands/">More commands</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../data/">Data handling</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../cheat/">Linux cheat sheet</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="..">Introduction to Linux</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href=".." class="icon icon-home" aria-label="Docs"></a></li>
      <li class="breadcrumb-item active">Finding patterns</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="finding__patterns">Finding patterns<a class="headerlink" href="#finding__patterns" title="Permanent link">&para;</a></h1>
<p>This section will look at finding patterns (<a href="#grep">grep</a>, <a href="#find">find</a>, and <a href="#regular__expressions">regular expressions</a>).  </p>
<div class="admonition note">
<p class="admonition-title">Learning objectives</p>
<p><strong>Questions</strong> </p>
<ul>
<li>How do I find out if a specific pattern is in a file?</li>
<li>What are regular expressions?</li>
</ul>
<p><strong>Objectives</strong> </p>
<ul>
<li>Learn about finding patterns</li>
<li>Learn to use <code>grep</code> and <code>find</code></li>
<li>Learn to use regular expressions</li>
</ul>
</div>
<p>Here you will find descptions on how to search for files with specific patterns. </p>
<div class="admonition hint">
<p class="admonition-title">Code along!</p>
<p>Try out / code along for some of these examples. </p>
<p>You can use the contents of the directory <code>/exercises/patterns</code> that you got from the downloaded tarball (<a href="https://github.com/hpc2n/intro-linux/raw/refs/heads/main/exercises.tar.gz">exercises.tar.gz</a>) to play with. If you have not done so already, right-click and save to download, or right-click and copy the url, then do <code>wget THE-URL-YOU-COPIED</code> in a terminal window to download it there. Then do <code>tar -zxvf patterns.tar.gz</code> to unpack.  </p>
</div>
<h2 id="grep">grep<a class="headerlink" href="#grep" title="Permanent link">&para;</a></h2>
<p>This command searches for patterns in text files. </p>
<p><strong>Syntax:</strong> </p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a>grep<span class="w"> </span><span class="o">[</span>options<span class="o">]</span><span class="w"> </span><span class="o">[</span>FILE<span class="o">]</span>
</span></code></pre></div>
<p>FILE is the name of whatever file you want to look at. </p>
<p>Some commonly used options are: </p>
<ul>
<li><strong>-i</strong>: ignore case</li>
<li><strong>-o</strong>: only output the instance of the pattern you search for, not the full line </li>
<li><strong>-e</strong>: use a regular expression as pattern, can be used multiple times (OR operation), protects patterns starting with &ldquo;-&ldquo;</li>
<li><strong>-c</strong>: do not output the line, just print a count of matching lines </li>
<li><strong>-n</strong>: Prefix  each  line of output with the 1-based line number within its input file.</li>
<li><strong>-r</strong>: Read  all  files  under  each  directory, recursively. If no file operand is given, grep searches the working directory. </li>
</ul>
<p>See <code>man grep</code> for more options. </p>
<p><strong>Examples</strong> </p>
<div class="admonition tip">
<p class="admonition-title">Code along</p>
<p>A good file to use here is <code>fil.txt</code> in the <code>exercises/patterns</code> directory. You will also use <code>newfile.txt</code> and <code>fil.txt</code> in the same directory. </p>
</div>
<div class="admonition example">
<p class="admonition-title">Find the pattern &lsquo;word&rsquo; in FILE</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a>grep<span class="w"> </span><span class="s1">&#39;word&#39;</span><span class="w"> </span>FILE
</span></code></pre></div>
</div>
<div class="admonition example">
<p class="admonition-title">Find the pattern &lsquo;word&rsquo; recursively under the directory path/to/dir</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a>grep<span class="w"> </span>-rine<span class="w"> </span><span class="s1">&#39;word&#39;</span><span class="w"> </span>path/to/dir
</span></code></pre></div>
</div>
<div class="admonition exercise">
<p class="admonition-title">Try finding the pattern <code>string</code> in <code>newfile.txt</code></p>
<p>This file is also located in the <code>exercises/patterns</code> directory. </p>
</div>
<details class="solution">
<summary>Click to reveal solution</summary>
<p><img 3px_="3px;" 400px_float:="400px;float:" alt="grep string" right_padding:="right;padding:" src="../images/grepstring.png" style="&quot;width:" /></p>
</details>
<div class="admonition example">
<p class="admonition-title">Find the instances of the word &lsquo;string&rsquo; in file.txt and count them</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-3-1"><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a>grep<span class="w"> </span>-o<span class="w"> </span>-i<span class="w"> </span>string<span class="w"> </span>file.txt<span class="w"> </span><span class="p">|</span><span class="w"> </span>wc<span class="w"> </span>-l
</span></code></pre></div>
</div>
<div class="admonition example">
<p class="admonition-title">Find the lines with instances of &lsquo;string&rsquo; in file.txt and output them to file.out</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-4-1"><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a>grep<span class="w"> </span>string<span class="w"> </span>file.txt<span class="w"> </span>&gt;<span class="w"> </span>file.out
</span></code></pre></div>
</div>
<div class="admonition example">
<p class="admonition-title">Find the lines with instances of &lsquo;string&rsquo; in file.txt and append them to file.out</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-5-1"><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a>grep<span class="w"> </span>string<span class="w"> </span>file.txt<span class="w"> </span>&gt;&gt;<span class="w"> </span>file.out
</span></code></pre></div>
</div>
<h2 id="find">find<a class="headerlink" href="#find" title="Permanent link">&para;</a></h2>
<p>The <code>find</code> command is used for file and directory search. You can search by name, size, modification time, or content. </p>
<p><strong>Syntax</strong></p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-6-1"><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a>find<span class="w"> </span><span class="o">[</span>path<span class="o">]</span><span class="w"> </span><span class="o">[</span>options<span class="o">]</span><span class="w"> </span><span class="o">[</span>expression<span class="o">]</span>
</span></code></pre></div>
<ul>
<li><strong>path</strong> is the starting directory for the search</li>
<li><strong>options</strong> are settings or conditions that modify how the search is performed</li>
<li><strong>expression</strong> is the criteria for filtering and locating files (for instance, only search for <code>txt</code> files or only files named <code>docs</code>). </li>
</ul>
<p><strong>Useful common options</strong></p>
<ul>
<li><strong>-type f</strong>: only search for files</li>
<li><strong>-type d</strong>: only search for directories</li>
<li><strong>-name NAME</strong>: only search for files with a specific name NAME or pattern</li>
<li><strong>-size [+/-]n</strong>: Searches for files based on size. <code>+n</code> finds larger files, <code>-n</code> finds smaller files. <code>n</code> measures size in units of space.</li>
<li><strong>-mtime n</strong>: Finds files based on modification time. <code>n</code> represents the number of days ago.</li>
<li><strong>-exec command {} \;</strong>: Executes a command on each file found. </li>
</ul>
<p>For more options, check <code>man find</code></p>
<p><strong>Examples</strong></p>
<div class="admonition tip">
<p class="admonition-title">Try yourself</p>
<p>You could do the searches inside <code>exercises</code> directory or inside <code>exercises/patterns</code> directory. </p>
<ol>
<li>Find the file <code>myfile.txt</code> in the directory you are standing in and below: </li>
</ol>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-7-1"><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a>find<span class="w"> </span>.<span class="w"> </span>-type<span class="w"> </span>f<span class="w"> </span>-name<span class="w"> </span><span class="s2">&quot;file.txt&quot;</span>
</span></code></pre></div>
<ol>
<li>Find the files <code>myfile.txt</code> as part of the name in the directory <code>expressions/patterns</code> while standing in <code>exercises/script</code></li>
</ol>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-8-1"><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a>find<span class="w"> </span>../patterns/<span class="w"> </span>-type<span class="w"> </span>f<span class="w"> </span>-name<span class="w"> </span><span class="s2">&quot;myfile0.txt&quot;</span>
</span></code></pre></div>
</div>
<h2 id="regular__expressions">Regular Expressions<a class="headerlink" href="#regular__expressions" title="Permanent link">&para;</a></h2>
<p>Regular Expressions are a type of patterns that are used when you are working with text. 
Due to their convenience, regular expressions are commonly used in programming languages, though their syntax may vary between languages.</p>
<p>Regular Expressions can be used with commands like <code>grep</code>, <code>find</code> and many others. </p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul>
<li>
<p>If your regular expressions does not do as you expect, you may need to use single quotation marks around the sentence and you may also have to use backslashes on every single special character.</p>
</li>
<li>
<p>There are online tools that allow you to test Regular Expressions, for instance, <a href="https://regex101.com/">regex101.com</a>. Different languages are supported. For not too complex 
  Regular Expressions, most of the languages options could work for <code>grep</code> and <code>find</code>. </p>
</li>
<li>
<p>Make dry-runs (tests) before running commands with Regular Expressions that modify files.</p>
</li>
</ul>
</div>
<p>Some common examples of regular expressions: </p>
<ul>
<li><strong>.</strong> matches any single character. Same as <strong>?</strong> in standard wildcard expressions. </li>
<li><strong>\</strong> is used as an &ldquo;escape&rdquo; character for a subsequent special character. </li>
<li><strong>.</strong>* is used to match any string, equivalent to * in standard wildcards.</li>
<li><strong>*</strong> the proceeding item is matched zero or more times. ie. n* will match n, nn, nnnn, nnnnnnn but not na or any other character.</li>
<li><strong>^</strong> means &ldquo;the beginning of the line&rdquo;. So &ldquo;^a&rdquo; means find a line starting with an &ldquo;a&rdquo;.</li>
<li><strong>$</strong> means &ldquo;the end of the line&rdquo;. So &ldquo;a$&rdquo; means find a line ending with an &ldquo;a&rdquo;.</li>
<li><strong>[ ]</strong> specifies a range. Same as for normal wildcards. This is an &lsquo;or&rsquo; relationship (you only need one to match).</li>
<li><strong>|</strong> This wildcard makes a logical OR relationship between wildcards. You can thus search something or something else. You may need to add a &lsquo;' before this command to avoid the shell thinking you want a pipe. </li>
<li><strong>[^]</strong> This is the equivalent of [!] in standard wildcards, i.e. it is a logical “not” and will match anything not listed within the square brackets. </li>
</ul>
<div class="admonition example">
<p class="admonition-title">Example</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-9-1"><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a>$<span class="w"> </span>cat<span class="w"> </span>myfile<span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span><span class="s1">&#39;^s.*n$&#39;</span>
</span></code></pre></div>
<p>This command searches the file myfile for lines starting with an &ldquo;s&rdquo; and ending with an &ldquo;n&rdquo;, and prints them to the standard output. </p>
</div>
<div class="admonition note">
<p class="admonition-title">Keypoints</p>
<ul>
<li>Finding files with specific patterns in their names or content can be done with <code>grep</code> and <code>find</code></li>
<li>Regular Expressions are a type of patterns that are used when you are working with text. They can be used with <code>grep</code>, <code>find</code>, and other programs </li>
</ul>
</div>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="../pipesfilters/" class="btn btn-neutral float-left" title="Piping"><span class="icon icon-circle-arrow-left"></span> Previous</a>
        <a href="../scripting/" class="btn btn-neutral float-right" title="Scripting">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
      <span><a href="../pipesfilters/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../scripting/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script src="../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "..";</script>
    <script src="../js/theme_extra.js"></script>
    <script src="../js/theme.js"></script>
      <script src="../assets/_markdown_exec_pyodide.js"></script>
      <script src="../search/main.js"></script>
      <script src="../js/open_in_new_tab.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
